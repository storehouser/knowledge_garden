---
{"dg-publish":true,"permalink":"/c/floating-point/","noteIcon":""}
---


컴퓨터의 메모리 체계는 2진수를 기반으로 저장한다. 실수를 표현하는 여러 방법 중에 정밀도를 어느 정도 감소하고 충분히 큰 수를 표현할 수 있고, 연산 속도도 빠른 표현 기법이 있다. 이를 부동소수점이라고 한다. 정밀도가 떨어질 수 있어 금융권이나 정밀한 계산이 필요할 땐 사용해선 안된다. 32bit float형의 메모리 구조는 다음의 이미지와 같다.
![Pasted image 20250402212059.png](/img/user/_Attachment/Pasted%20image%2020250402212059.png)

## 부동 소수점의 2진수 변환
---
12.375 은 정수 12과 소수 0.375로 나뉘어져 있다. 12와 0.375를 각각 2진수로 변경하면
1100, 과 011로 처리된다. 따라서 123.45를 2진수로 변환을 하면 1100.011 값을 가지게 된다.

> [!info]
> **정수 부분을 2진수**
>
| 단계  | 값 / 2  | 몫   | 나머지 |
| --- | ------ | --- | --- |
| 1   | 12 / 2 | 6   | 0   |
| 2   | 6 / 2  | 3   | 0   |
| 3   | 3 / 2  | 1   | 1   |
| 4   | 1 / 2  | 0   | 1   |
나머지가 나온 순서를 거꾸로 취한다.
> 
> 
> **소수 부분을 2진수**
> 
| 단계  | 값 * 2     | 결과   | 정수부 |
| --- | --------- | ---- | --- |
| 1   | 0.375 * 2 | 0.75 | 0   |
| 2   | 0.75 * 2  | 1.5  | 1   |
| 3   | 0.5 * 2   | 1.0  | 1   |
정수부 부분을 차례로 취한다.


## 정규화
---
2진수로 변환된 값을 1.n \* 2^e 의 형식으로 변환한다. n을 가수부, e를 지수부로 변환하여 저장한다.
12.375의 값은 1.100011 \* 2^-3 의 값을 가지게 된다.

## 정밀도 손실
---
1. 정해진 bit 범위를 넘어가면 해당 값에 대해 저장을 하지 않아므로 정확하지 않은 값이 보관될 수 있다.
2. 0.1과 같은 소수점을 표현할 수 없다. (특히 0.1을 2진수로 변환하면 무한 소수가 된다) bit 범위를 넘어가는 부근해서 bit를 반올림하므로 정밀도가 떨어질 수 있다.

## 참고
---
- 지수의 bit bias 값 127이 있다.